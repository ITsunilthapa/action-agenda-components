(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{570:function(a,e,t){},676:function(a,e,t){"use strict";t(570)},839:function(a,e,t){"use strict";t.r(e);var s=t(59),r=(t(120),t(485));var i={methods:{getExamp:function(){if("aa-data"===document.getElementsByTagName("main")[0].lastElementChild.id)return;this.exampleHeader=document.getElementById("example-hr"),this.exampleData=document.getElementById("aa-data"),this.exampleHeader.parentNode.removeChild(this.exampleHeader),this.exampleData.parentNode.removeChild(this.exampleData);var a=document.getElementsByTagName("main")[0];this.exampleHeader.classList.add("aaexample-header"),a.appendChild(this.exampleHeader),a.appendChild(this.exampleData)}},computed:{cachedApis:function(){return r}},data:function(){return{exampleData:null,exampleHeader:null,sdgs:[],aichis:[],subjects:[],jurisdictions:[],govTypes:[],orgTypes:[],regions:[],countries:[],lookUp:[],actionCategories:[]}},mounted:function(){var a=this;return Object(s.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.initializeApiStore(),e.next=3,r.lookUp("all",["528B1187-F1BD-4479-9FB3-ADBD9076D361","ca","AICHI-TARGET-10","CBD-SUBJECT-ABS"]);case 3:return a.lookUp=e.sent,e.next=6,r.getData("actionCategories");case 6:return a.actionCategories=e.sent,e.next=9,r.getData("countries");case 9:return a.countries=e.sent,e.next=12,r.getData("regions");case 12:return a.regions=e.sent,e.next=15,r.getData("orgTypes");case 15:return a.orgTypes=e.sent,e.next=18,r.getData("govTypes");case 18:return a.govTypes=e.sent,e.next=21,r.getData("jurisdictions");case 21:return a.jurisdictions=e.sent,e.next=24,r.getData("subjects");case 24:return a.subjects=e.sent,e.next=27,r.getData("aichis");case 27:return a.aichis=e.sent,e.next=30,r.getData("sdgs");case 30:a.sdgs=e.sent,a.getExamp();case 32:case"end":return e.stop()}}),e)})))()},destroyed:function(){this.exampleHeader.parentNode.removeChild(this.exampleHeader),this.exampleData.parentNode.removeChild(this.exampleData)}},n=(t(676),t(29)),c=Object(n.a)(i,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"api-mises-en-cache"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api-mises-en-cache"}},[a._v("#")]),a._v(" API mises en cache")]),a._v(" "),t("h2",{attrs:{id:"la-description"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#la-description"}},[a._v("#")]),a._v(" La description")]),a._v(" "),t("p",[a._v("A locally cached version of SCBD's most static API's.")]),a._v(" "),t("h2",{attrs:{id:"installer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installer"}},[a._v("#")]),a._v(" Installer")]),a._v(" "),t("code-group",[t("code-block",{attrs:{title:"YARN"}},[t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" @action-agenda/cached-apis\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])])]),a._v(" "),t("code-block",{attrs:{title:"NPM"}},[t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" @action-agenda/cached-apis\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])])])],1),a._v(" "),t("h3",{attrs:{id:"initializeapistore-opts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#initializeapistore-opts"}},[a._v("#")]),a._v(" initializeApiStore = (opts = {})")]),a._v(" "),t("p",[a._v("initializes the local store (IndexedDB/WebSQL/local storage) depending on client.")]),a._v(" "),t("h4",{attrs:{id:"proprietes-options-object"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#proprietes-options-object"}},[a._v("#")]),a._v(" Propriétés: (options:Object)")]),a._v(" "),t("div",{staticClass:"language-mjs line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const validationMap = { expiry: Number, name: String, apisUrls: Object, dataSources: Array, version: String }")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"})]),t("h5",{attrs:{id:"options-apisurls"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#options-apisurls"}},[a._v("#")]),a._v(" Options: apisUrls")]),a._v(" "),t("div",{staticClass:"language-mjs line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const apisUrls = {\n  regions      : 'https://api.cbd.int/api/v2013/thesaurus/domains/regions/terms',\n  countries    : 'https://api.cbd.int/api/v2013/thesaurus/domains/countries/terms',\n  orgTypes     : 'https://api.cbd.int/api/v2013/thesaurus/domains/Organization%20Types/terms',\n  govTypes     : 'https://api.cbd.int/api/v2013/thesaurus/domains/Organization%20Types/terms',\n  aichis       : 'https://api.cbd.int/api/v2013/thesaurus/domains/AICHI-TARGETS/terms',\n  subjects     : 'https://api.cbd.int/api/v2013/thesaurus/domains/CBD-SUBJECTS/terms',\n  jurisdictions: 'https://api.cbd.int/api/v2013/thesaurus/domains/50AC1489-92B8-4D99-965A-AAE97A80F38E/terms',\n  sdgs         : 'https://unstats.un.org/SDGAPI/v1/sdg/Goal/List?includechildren=false'\n}")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br")])]),t("h5",{attrs:{id:"options-datasources"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#options-datasources"}},[a._v("#")]),a._v(" Options: dataSources")]),a._v(" "),t("div",{staticClass:"language-mjs line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const dataSources = [ ...Object.keys(apisUrls), 'geoLocations', 'actionCategories', 'all', 'documentStates' ]")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"})]),t("h3",{attrs:{id:"getdata-async-datasource-nocache-false"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#getdata-async-datasource-nocache-false"}},[a._v("#")]),a._v(" getData  = async (dataSource, noCache=false)")]),a._v(" "),t("h3",{attrs:{id:"lookup-async-datasource-keys-single-false"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lookup-async-datasource-keys-single-false"}},[a._v("#")]),a._v(" lookUp = async(dataSource, keys, single=false)")]),a._v(" "),t("h2",{attrs:{id:"data-references"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#data-references"}},[a._v("#")]),a._v(" Data References")]),a._v(" "),t("h3",{attrs:{id:"action-categories"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#action-categories"}},[a._v("#")]),a._v(" Action Categories")]),a._v(" "),t("div",{staticClass:"language-text"},[t("pre",[t("code",[a._v("\n"+a._s(a.actionCategories)+"\n")])])]),a._v(" "),t("h3",{attrs:{id:"thematic-areas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#thematic-areas"}},[a._v("#")]),a._v(" Thematic Areas")]),a._v(" "),t("div",{staticClass:"language-text"},[t("pre",[t("code",[a._v("\n"+a._s(a.subjects)+"\n")])])]),a._v(" "),t("h3",{attrs:{id:"government-types"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#government-types"}},[a._v("#")]),a._v(" Government Types")]),a._v(" "),t("div",{staticClass:"language-text"},[t("pre",[t("code",[a._v("\n"+a._s(a.govTypes)+"\n")])])]),a._v(" "),t("h3",{attrs:{id:"organization-types"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#organization-types"}},[a._v("#")]),a._v(" Organization Types")]),a._v(" "),t("div",{staticClass:"language-text"},[t("pre",[t("code",[a._v("\n"+a._s(a.orgTypes)+"\n")])])]),a._v(" "),t("h3",{attrs:{id:"regions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#regions"}},[a._v("#")]),a._v(" Regions")]),a._v(" "),t("div",{staticClass:"language-text"},[t("pre",[t("code",[a._v("\n"+a._s(a.regions)+"\n")])])]),a._v(" "),t("h3",{attrs:{id:"aichi-biodiversity-targets"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aichi-biodiversity-targets"}},[a._v("#")]),a._v(" Aichi Biodiversity Targets")]),a._v(" "),t("div",{staticClass:"language-text"},[t("pre",[t("code",[a._v("\n"+a._s(a.aichis)+"\n")])])]),a._v(" "),t("h3",{attrs:{id:"sdg-s"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sdg-s"}},[a._v("#")]),a._v(" SDG's")]),a._v(" "),t("div",{staticClass:"language-text"},[t("pre",[t("code",[a._v("\n"+a._s(a.sdgs)+"\n")])])]),a._v(" "),t("h3",{attrs:{id:"countries"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#countries"}},[a._v("#")]),a._v(" Countries")]),a._v(" "),t("div",{staticClass:"language-text"},[t("pre",[t("code",[a._v("\n"+a._s(a.countries)+"\n")])])]),a._v(" "),t("h3",{attrs:{id:"jurisdictions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jurisdictions"}},[a._v("#")]),a._v(" Jurisdictions")]),a._v(" "),t("div",{staticClass:"language-text"},[t("pre",[t("code",[a._v("\n"+a._s(a.jurisdictions)+"\n")])])]),a._v(" "),t("h2",{attrs:{id:"exemple"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exemple"}},[a._v("#")]),a._v(" Exemple")]),a._v(" "),t("hr",{attrs:{id:"example-hr"}}),a._v(" "),[t("div",{staticClass:"position-relative p-5 aaexamp",attrs:{id:"aa-data"}},[t("div",{staticClass:"inner"},[t("h3",[a._v("lookUp('all', ['528B1187-F1BD-4479-9FB3-ADBD9076D361', 'ca' ,'AICHI-TARGET-10','CBD-SUBJECT-ABS'])")]),a._v(" "),t("hr"),a._v(" "),t("pre",[a._v("    "+a._s(a.lookUp)+"\n    ")]),a._v(" "),t("a",{staticClass:"header-anchor",attrs:{href:"#actionCategories"}},[a._v("#")]),a._v(" "),t("h3",[a._v("CachedApis.getData('actionCategories')")]),a._v(" "),t("hr"),a._v(" "),t("pre",[a._v("    "+a._s(a.actionCategories)+"\n    ")])])])]],2)}),[],!1,null,"1cfaeb9a",null);e.default=c.exports}}]);